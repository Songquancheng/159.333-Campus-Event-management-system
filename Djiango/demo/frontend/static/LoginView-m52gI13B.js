import{c as e,d as t,e as n,f as r,g as i,h as a,i as o,j as s,k as c,l,m as u,n as d,o as f,p,q as m,r as h,s as g,t as _}from"./index-AXesD38v.js";import{b as v}from"./vite-DaT7hX22.js";const y={class:`screen`},b={class:`glass`};var x=l({__name:`LoginView`,setup(n){let l=i(),x=r(),S=g(),C=g(!1),w=h({email:``,password:``}),T={email:[{required:!0,message:`请输入邮箱`,trigger:`blur`},{type:`email`,message:`邮箱格式不正确`,trigger:[`blur`,`change`]}],password:[{required:!0,message:`请输入密码`,trigger:`blur`},{min:6,message:`至少 6 位字符`,trigger:`blur`}]},E=async()=>{if(!S.value)return;let e=await S.value.validate().catch(()=>!1);if(e){C.value=!0;try{await new Promise(e=>setTimeout(e,700)),localStorage.setItem(`token`,`demo_token`);let e=x.query.redirect||`/`;l.replace(e)}finally{C.value=!1}}};return(n,r)=>{let i=d(`el-input`),l=d(`el-form-item`),h=d(`el-button`),g=d(`el-form`),x=f(`loading`);return u(),o(`div`,y,[m((u(),o(`div`,b,[r[3]||=a(`div`,{class:`header`},[a(`img`,{class:`logo`,src:v,alt:`logo`}),a(`h1`,null,`Welcome back`),a(`p`,null,`登录你的账号继续`)],-1),c(g,{ref_key:`formRef`,ref:S,model:w,rules:T,"label-position":`top`,class:`form`},{default:p(()=>[c(l,{label:`邮箱`,prop:`email`},{default:p(()=>[c(i,{modelValue:w.email,"onUpdate:modelValue":r[0]||=e=>w.email=e,placeholder:`name@example.com`,"prefix-icon":_(t)},null,8,[`modelValue`,`prefix-icon`])]),_:1}),c(l,{label:`密码`,prop:`password`},{default:p(()=>[c(i,{modelValue:w.password,"onUpdate:modelValue":r[1]||=e=>w.password=e,placeholder:`至少 6 位`,"show-password":``,"prefix-icon":_(e)},null,8,[`modelValue`,`prefix-icon`])]),_:1}),c(h,{type:`primary`,size:`large`,class:`submit`,onClick:E},{default:p(()=>r[2]||=[s(` 登录 `,-1)]),_:1,__:[2]})]),_:1},8,[`model`]),r[4]||=a(`div`,{class:`foot`},[a(`span`,null,`忘记密码？`),a(`a`,{href:`javascript:void(0)`},`联系管理员`)],-1)])),[[x,C.value]])])}}}),S=n(x,[[`__scopeId`,`data-v-82513b86`]]);export{S as default};